(()=>{"use strict";var e,t={4321:(e,t,i)=>{i(2526),i(1817),i(1539),i(2165),i(6992),i(8783),i(3948);function s(){window.el_header=document.getElementById("ess-header"),window.vw=window.innerWidth,window.vh=window.innerHeight,window.sc=window.scrollY,window.addEventListener("resize",(function(){window.vw=window.innerWidth,window.vh=window.innerHeight})),window.addEventListener("scroll",(function(){window.sc=window.scrollY}))}i(4916),i(3123),i(7941),i(3710),i(2772),i(9070);function o(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.path=t}var t,i,s;return t=e,s=[{key:"setCookie",value:function(e,t,i){var s=new Date;s.setTime(s.getTime()+i);var o="expires="+s.toUTCString();document.cookie=e+"="+t+";"+o+";path=/"}},{key:"getCookie",value:function(e){var t=e+"=",i=decodeURIComponent(document.cookie);console.log("cooookie "+i);for(var s=i.split(";"),o=0;o<s.length;o++){for(var n=s[o];" "==n.charAt(0);)n=n.substring(1),console.log(n);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return"none"}},{key:"deleteCookie",value:function(e){document.cookie=e+"=; Max-Age=-99999999;"}}],(i=[{key:"createCookiesArray",value:function(){if(this.arr_cookies=[],document.cookie&&""!=document.cookie){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var i=e[t];" "==i.charAt(0);)i=i.substring(1);var s=i.split("=");this.arr_cookies[s[0]]=s[1]}console.log(this.arr_cookies)}}},{key:"make_cookie_from_array",value:function(){if(0!=Object.keys(this.arr_cookies).length){var e="";for(var t in this.arr_cookies)e=e+t+"="+arr[t]}}}])&&o(t.prototype,i),s&&o(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();i(4812);function c(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.toplinks_arr=this.init_navbar(),this.initial_rotation=10,this.el_canvas=t,this.el_cont=t.querySelector("#csscube-cont"),this.tweeen="power2.out",this.tween_length=.8,this.isonscreen=!1,this.isOnStage=!1,this.unit_space_ratio=5,this.units_total=19,this.units_space=2,this.units_cube=12,this.units_cube_w=12,this.units_cube_h=15,this.units_space=(this.units_total-this.units_cube)/2,this.names_array=["o","i","ii","iii","iv","v","vi","vii","viii","ix","x","xi","xii","xiii","xiv","xv","xvi","xvii","xviii","xix","xx","xxi","xxii","xxiii","xxiv","xxv","xxvi","xxvii","xxviii","xxix","xxx"],this.Cube_Style_Sheet=document.createElement("style"),document.body.appendChild(this.Cube_Style_Sheet),this._y=0,this._x=0}var t,i,s;return t=e,i=[{key:"init",value:function(){var e=this;if(this.tl=gsap.timeline({}),this.main_container=document.getElementById("ess-main-container"),this.el_cubescene=this.el_cont.querySelector("#csscube-scene"),this.cube_rotator_el=this.el_cubescene.querySelector("#csscube-rotator"),this.cube_el=this.cube_rotator_el.querySelector("#csscube"),this.cube_shadow_el=this.el_cubescene.querySelector("#csscube-shadow"),console.log("items are"),console.log(this.el_cubescene),console.log(this.cube_el),console.log(this.cube_rotator_el),this.front_side_el=this.cube_el.querySelector("#csscube-front"),this.right_side_el=this.cube_el.querySelector("#csscube-right"),this.back_side_el=this.cube_el.querySelector("#csscube-back"),this.left_side_el=this.cube_el.querySelector("#csscube-left"),this.bottom_side_el=this.cube_el.querySelector("#csscube-bottom"),this.front_side_el.style.opacity="0.1",this.right_side_el.style.opacity="0.1",this.left_side_el.style.opacity="0.1",this.back_side_el.style.opacity="0.1",this.r_b=this.el_cubescene.querySelector(".right-button"),this.l_b=this.el_cubescene.querySelector(".left-button"),this.elCanvasClickable(),window.addEventListener("resize",this.setup_cube.bind(this),!0),this.r_b.addEventListener("click",(function(){e._rotate_right()})),this.l_b.addEventListener("click",(function(){e._rotate_left()})),this.r_b.addEventListener("mouseover",(function(){e.still=!0})),this.r_b.addEventListener("mouseleave",(function(){e.still=!1})),this.l_b.addEventListener("mouseover",(function(){e.still=!0})),this.l_b.addEventListener("mouseleave",(function(){e.still=!1})),this.cube_el.addEventListener("mouseover",(function(){e.still=!0})),this.cube_el.addEventListener("mouseleave",(function(){e.still=!1})),!this.cube_el)throw"cube_element not found";this.move_the_cube(),this.init_subscribe_modal(),this.init_navbar()}},{key:"init_navbar",value:function(){for(var e=this,t=document.querySelectorAll(".wm-cube-menu-link"),i=[],s=function(s){var o=t[s],n=o.getAttribute("data-target");i[n]=o,o.classList.contains("active")&&(e.active_link=o),t[s].addEventListener("mouseover",(function(t){console.log("ahojoooooooooooooooo"),t.preventDefault,void 0!==e.active_link&&e.active_link!==t.target&&(e.active_link.classList.remove("active"),e.active_link=t.target),e._position_cube(n)}))},o=0;o<t.length;++o)s(o);return i}},{key:"setup_cube",value:function(){var e=40,t=40,i=this.el_canvas.clientWidth,s=this.el_canvas.clientHeight,o="",n="",c="",a="";i/s>=1?(i*=.6,(s*=.6)>900&&(s=900),e=s/this.units_cube_w,t=s/this.units_cube_h,o=" "+e/1.4+"px !important;",n=" "+e/2.4+"px !important;",c=" "+e/3+"px !important;",a=" "+e/4+"px !important;"):(i*=.85,s*=.85,window.vw>500&&(window.vw=500),e=i/this.units_cube_w,t=i/this.units_cube_h,o=" 8vw !important; ",n=" 4vw !important; ",c=" 1.6vw !important;",a="1vw !important;"),this.cube_width=this.units_cube_w*e,this.cube_height=this.units_cube_h*t,this.cube_w_shift=this.cube_width/2,this.cube_h_shift=this.cube_height/2,console.log("cube top is "),console.log(this.el_canvas.clientHeight+", "+this.cube_height),this.Cube_Style_Sheet.innerHTML+="#csscube-scene #csscube h1 {font-size: "+o+" } ",this.Cube_Style_Sheet.innerHTML+="#csscube-scene #csscube h2 {font-size: "+n+" } ",this.Cube_Style_Sheet.innerHTML+="#csscube-scene #csscube h3 {font-size: "+c+" } ",this.Cube_Style_Sheet.innerHTML+="#csscube-scene #csscube h4 {font-size: "+a+" } ",this.Cube_Style_Sheet.innerHTML+="#csscube-scene{position: relative; top: "+(this.el_canvas.clientHeight-this.cube_height)/2+"px; width:"+this.cube_width+"px; height:"+this.cube_height+"px; perspective: "+5*this.cube_width+"px;}",this.Cube_Style_Sheet.innerHTML+="#csscube-rotator{top: "+this.cube_height/2+"px;}",this.Cube_Style_Sheet.innerHTML+="#csscube{top: -"+this.cube_height/2+"px;}",this.Cube_Style_Sheet.innerHTML+="#csscube-front  {width:"+this.cube_width+"px; height:"+this.cube_height+"px; transform: translateZ("+this.cube_w_shift+"px);}",this.Cube_Style_Sheet.innerHTML+="#csscube-left   {width:"+this.cube_width+"px; height:"+this.cube_height+"px; transform: rotateY(-90deg) translateZ("+this.cube_w_shift+"px);}",this.Cube_Style_Sheet.innerHTML+="#csscube-right  {width:"+this.cube_width+"px; height:"+this.cube_height+"px; transform: rotateY(90deg) translateZ("+this.cube_w_shift+"px);}",this.Cube_Style_Sheet.innerHTML+="#csscube-back   {width:"+this.cube_width+"px; height:"+this.cube_height+"px; transform: rotateY(-180deg) translateZ("+this.cube_w_shift+"px);}",this.Cube_Style_Sheet.innerHTML+="#csscube-top    {width:"+this.cube_width+"px; height:"+this.cube_height+"px; transform: rotateX(90deg) translateZ("+this.cube_h_shift+"px);}",this.Cube_Style_Sheet.innerHTML+="#csscube-bottom {width:"+this.cube_width+"px; height:"+this.cube_height+"px; transform: rotateX(-90deg) translateZ("+this.cube_h_shift+"px);}",this.Cube_Style_Sheet.innerHTML+="#csscube-shadow {width:"+this.cube_width+"px; height:"+this.cube_height+"px; transform: rotateX(-85deg) translateZ("+1.2*this.cube_h_shift+"px) ;}";for(var h=0;h<this.units_cube_h;h++)this.Cube_Style_Sheet.innerHTML+=".x_"+this.names_array[h]+"{left:"+e*h+"px;}",this.Cube_Style_Sheet.innerHTML+=".y_"+this.names_array[h]+"{top:"+t*h+"px;}",this.Cube_Style_Sheet.innerHTML+=".w_"+this.names_array[h]+"{width:"+e*h+"px;}",this.Cube_Style_Sheet.innerHTML+=".h_"+this.names_array[h]+"{height:"+t*h+"px;}";this.isonscreen||(this._x=90,gsap.to(document.getElementById("csscube-scene"),{duration:.5,opacity:1}),this.isonscreen=!0)}},{key:"_rotate_right",value:function(){0==this._y&&(this._y=359.99),this._y<360&&this._y>270?this._x>0+this.initial_rotation?this._position_cube("right"):this._position_cube("bottom"):this._y<=90||this._y>360?this._position_cube("front"):this._y<=180?this._position_cube("left"):this._y<=270&&this._position_cube("back")}},{key:"_position_cube",value:function(e){var t,i,s,o=this;switch(console.log("=================================="),console.log(e),console.log(this.toplinks_arr),console.log("=================================="),!1===this.isOnStage&&this.fadeIn(),console.log(e),void 0!==this.active_link&&this.active_link.classList.remove("active"),this.toplinks_arr[e].classList.add("active"),this.active_link=this.toplinks_arr[e],e){case"bottom":this._y>180&&(this._y=this._y-359.99),i=90,s=0,t=this.bottom_side_el;break;case"front":this._y>180&&(this._y=this._y-359.99),i=0,s=0,t=this.front_side_el;break;case"right":this._y>=-180&&this._y<90&&(this._y=this._y+359.99),i=0,s=270,t=this.right_side_el;break;case"left":this._y>270&&(this._y=this._y+359.99),i=0,s=90,t=this.left_side_el;break;case"back":this._y>=360&&(this._y=this._y-359.99),i=0,s=180,t=this.back_side_el;break;default:i=90,s=0,t=this.bottom_side_el}this.active_el!=t?(this.leaving_el=this.active_el,this.arriving_el=t,i+=this.initial_rotation,gsap.to(this.leaving_el,{duration:this.tween_length,ease:this.tweeen,opacity:.1}),gsap.to(this.arriving_el,{duration:this.tween_length,ease:this.tweeen,opacity:1,onComplete:function(){}}),this.active_el=this.arriving_el,console.log("y je "+this._y+" new y je"+s),this.g&&this.g.pause(),this.g=gsap.to(this,{duration:this.tween_length,ease:this.tweeen,_y:s,_x:i,onUpdate:function(){o.cube_el.style.transform=" rotatey("+o._y+"deg)",o.cube_rotator_el.style.transform=" rotatex("+o._x+"deg)",o.cube_shadow_el.style.transform=" rotatex(-85deg) rotatez("+o._y+"deg) translatez("+1.4*o.cube_h_shift+"px)"}})):console.log("nothing to tween")}},{key:"_rotate_left",value:function(){this._y>=0&&this._y<90?this._x>0+this.initial_rotation?this._position_cube("front"):this._position_cube("left"):this._y>=90&&this._y<180?this._position_cube("back"):this._y>=180&&this._y<270?this._position_cube("right"):this._y>=270&&this._position_cube("bottom")}},{key:"move_the_cube",value:function(){}},{key:"intro",value:function(){var e=this;this.el_canvas.style.zIndex="1",gsap.set(this.el_cubescene,{css:{scaleX:.3,scaleY:.3}}),this.front_side_el.style.opacity="0.1",this.back_side_el.style.opacity="0.1",this.right_side_el.style.opacity="0.1",this.left_side_el.style.opacity="0.1",this.bottom_side_el.style.opacity="0.1",console.log("fadein"),console.log(this.cube_el),this.active_el=this.bottom_side_el,this.front_side_el.style.opacity="1",this.back_side_el.style.opacity="1",this.right_side_el.style.opacity="1",this.left_side_el.style.opacity="1",this.bottom_side_el.style.opacity="1",gsap.to(this.front_side_el,{duration:1,ease:"power2.out",opacity:.1}),gsap.to(this.right_side_el,{duration:1,ease:"power2.out",opacity:.1}),gsap.to(this.back_side_el,{duration:1,ease:"power2.out",opacity:.1}),gsap.to(this.left_side_el,{duration:1,ease:"power2.out",opacity:.1}),gsap.to(this.el_cubescene,{duration:1,ease:"power2.out",css:{scaleX:1,scaleY:1}}),gsap.to(this.el_canvas,{duration:1,ease:"power2.out",css:{opacity:1},onComplete:function(){window.ess_cube_transitioning=!1}}),this._x=135,this._y=0,gsap.set(this.cube_rotator_el,{css:{rotateX:this._x}}),gsap.set(this.cube_el,{css:{rotateY:this._y}});var t=90+this.initial_rotation;this.g&&this.g.pause(),this.g=gsap.to(this,{duration:1,ease:this.tweeen,_y:0,_x:t,onUpdate:function(){gsap.set(e.cube_el,{rotateY:e._y}),gsap.set(e.cube_rotator_el,{rotateX:e._x})}})}},{key:"outro",value:function(e){var t=this;console.log("outro"),gsap.to(this.el_cubescene,{duration:1,ease:"power2.out",css:{scaleX:.3,scaleY:.3}}),gsap.to(this.el_canvas,{duration:1,ease:"power2.out",css:{opacity:0},onComplete:function(){window.ess_cube_transitioning=!1}}),this.g&&this.g.pause(),this.front_side_el.style.opacity="0.9",this.back_side_el.style.opacity="0.9",this.right_side_el.style.opacity="0.9",this.left_side_el.style.opacity="0.9",this.bottom_side_el.style.opacity="0.9";var i=this._y+360;this.g=gsap.to(this,{duration:1,ease:this.tweeen,_y:i,_x:0,onUpdate:function(){gsap.set(t.cube_el,{rotateY:t._y}),gsap.set(t.cube_rotator_el,{rotateX:t._x})},onComplete:function(){"undefined"!==e&&e()}})}},{key:"fadeIn",value:function(){this.isOnStage=!0,"undefined"==typeof InstallTrigger&&this.main_container.classList.add("ess-blured-content"),this.el_canvas.style.zIndex="1",this.front_side_el.style.opacity="0.1",this.back_side_el.style.opacity="0.1",this.right_side_el.style.opacity="0.1",this.left_side_el.style.opacity="0.1",this.bottom_side_el.style.opacity="0.1",gsap.set(this.el_cubescene,{css:{scaleX:.5,scaleY:.5}}),console.log("fadein"),console.log(this.cube_el),this.active_el=this.front_side_el,gsap.to(this.el_cubescene,{duration:.5,ease:"power2.out",css:{scaleX:1,scaleY:1}}),gsap.to(this.el_canvas,{duration:.5,ease:"power2.out",css:{opacity:1},onComplete:function(){window.ess_cube_transitioning=!1}}),this._x=135,this._y=45,gsap.set(this.cube_el,{rotateY:this._y}),gsap.set(this.cube_rotator_el,{rotateX:this._x}),this._position_cube("bottom")}},{key:"fadeOut",value:function(){var e=this;this.isOnStage=!1;var t=document.querySelector(".ess-tiny-header");t&&t.querySelector("h1").classList.remove("opacity-o"),"undefined"==typeof InstallTrigger&&this.main_container.classList.remove("ess-blured-content"),this.active_el&&gsap.to(this.active_el,{duration:.3,ease:"power1.out",opacity:.1}),gsap.to(this.el_cubescene,{duration:.5,ease:"power1.out",css:{scaleX:.5,scaleY:.5}}),this.g=gsap.to(this,{duration:.5,ease:"power1.out",_x:135,_y:this._y+45,onUpdate:function(){gsap.set(e.cube_el,{rotateY:e._y}),gsap.set(e.cube_rotator_el,{rotateX:e._x})}}),gsap.to(this.el_canvas,{duration:.5,ease:"power1.out",css:{opacity:0},onComplete:function(){window.ess_cube_transitioning=!1,e.el_canvas.style.zIndex="-100"}}),this.active_link.classList.remove("active")}},{key:"elCanvasClickable",value:function(){var e=this;this.el_clickable_background=document.createElement("div"),this.el_clickable_background.setAttribute("id","el-clickable-background"),this.el_clickable_background.addEventListener("click",(function(){e.fadeOut()})),this.el_cont.appendChild(this.el_clickable_background)}},{key:"init_subscribe_modal",value:function(){var e=this.cube_el.querySelector("#cube_subscribe_button");console.log(e),e?e.addEventListener("click",(function(){console.log("HERE WAS ORIGNIAL MATERIALIZE MODAL")})):console.log("There is no subsribe button")}}],i&&c(t.prototype,i),s&&c(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}();console.log("desktop initializing"),s(),window.MindCookiesHandler=new n("./"),window.$intro=null,window.$Cube=null,window.ishomepage=document.body.classList.contains("ess-homepage");var h=new a(document.getElementById("ess-cube-navigation-holder"),document.querySelectorAll(".wm-cube-menu-link"));h.init(),h.setup_cube()}},i={};function s(e){var o=i[e];if(void 0!==o)return o.exports;var n=i[e]={exports:{}};return t[e](n,n.exports,s),n.exports}s.m=t,e=[],s.O=(t,i,o,n)=>{if(!i){var c=1/0;for(l=0;l<e.length;l++){for(var[i,o,n]=e[l],a=!0,h=0;h<i.length;h++)(!1&n||c>=n)&&Object.keys(s.O).every((e=>s.O[e](i[h])))?i.splice(h--,1):(a=!1,n<c&&(c=n));if(a){e.splice(l--,1);var r=o();void 0!==r&&(t=r)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[i,o,n]},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={811:0};s.O.j=t=>0===e[t];var t=(t,i)=>{var o,n,[c,a,h]=i,r=0;if(c.some((t=>0!==e[t]))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(h)var l=h(s)}for(t&&t(i);r<c.length;r++)n=c[r],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(l)},i=self.webpackChunkess_backend=self.webpackChunkess_backend||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var o=s.O(void 0,[674,111],(()=>s(4321)));o=s.O(o)})();
//# sourceMappingURL=index_desktop.js.map