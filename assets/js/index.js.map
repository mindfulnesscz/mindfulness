{"version":3,"file":"index.js","mappings":"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","sources":["webpack://ess_backend/webpack/bootstrap","webpack://ess_backend/webpack/runtime/compat get default export","webpack://ess_backend/webpack/runtime/define property getters","webpack://ess_backend/webpack/runtime/hasOwnProperty shorthand","webpack://ess_backend/external var \"React\"","webpack://ess_backend/external var \"ReactDOM\"","webpack://ess_backend/./src/helpers/loadScript.ts","webpack://ess_backend/./src/nav/nav-menu.tsx","webpack://ess_backend/./src/helpers/testDevice.ts","webpack://ess_backend/./src/index.tsx","webpack://ess_backend/./src/helpers/MindCookies.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = React;","const __WEBPACK_NAMESPACE_OBJECT__ = ReactDOM;","/**\n * Function that grabs url of a script and returns promise with onload function\n * @since 3.0 \n * \n **/\nconst loadScript = ( url:string ):Promise<unknown> =>{\n\n  const script = document.createElement( 'script' );\n  const att = document.createAttribute( 'type' );\n  \n  att.value = 'text/javascript';\n  script.setAttributeNode( att );\n\n  const ret = new Promise( ( resolve, reject ) =>{\n    script.onload = ()=>{\n      resolve( 'script' + url + ' loaded' );\n    };\n    script.onerror = ()=>{\n      reject( 'script ' + url + ' has encountered an error.' );\n    };\n  } );\n\n  script.src = url;\n\n  document.head.appendChild( script );\n\n  return ret;\n\n};\nexport default loadScript;","\nimport testDevice from '../helpers/testDevice';\nimport React, {useEffect, useState } from 'react';\nimport { MindGlobalObject } from '../types';\nimport loadScript from '../helpers/loadScript';\n\ndeclare interface NavMenuProps {\n  mindGlobal: MindGlobalObject\n}\n\n\nexport interface Indexable {\n  [key: string]: any\n}\n\n/**\n * Handles mobile/device navbar with menu switching.\n * Checks if Components are present when needed and loads and inits them\n */\nconst NavMenu: React.FC<NavMenuProps> = ( { mindGlobal } ) => {\n\n  const deviceCheck = ():string=>{\n    const isMobile:boolean = testDevice() || window.innerWidth < mindGlobal.settings.navBreakpoint;\n    return( isMobile ? 'mobile' : 'desktop' );\n\n  };\n  const sizeSet = ():void => {   \n    setDevice( deviceCheck() );\n  };\n\n  const [device, setDevice] = useState<string>( deviceCheck() );\n  const [timer, setTimer] = useState<ReturnType<typeof setTimeout>>( setTimeout( sizeSet, 0 ) );\n  const [menuComp, setMenuComp] = useState<React.ReactElement | null>( null );\n\n  useEffect( ()=>{\n    console.log( 'now do the navigation type check init' );\n\n    window.onresize = () => {\n      clearTimeout( timer );\n      setTimer( setTimeout( sizeSet, 100 ) );\n    };\n\n  }, [] );\n\n\n  useEffect( ()=>{\n    if( !( mindGlobal as Indexable )[device + 'Nav'] )\n      callScript( mindGlobal.templateUrl + '/assets/js/nav/' + device + '.js' );\n    else\n      setMenuComp( ( mindGlobal as Indexable )[device + 'Nav'] );    \n  }, [device] );\n\n  const callScript = ( url:string ) => {\n    loadScript( url ).then( ()=>{\n      setMenuComp( ( mindGlobal as Indexable )[device + 'Nav'] );\n    } );\n  };\n\n\n\n\n  return (\n    <div>\n      { menuComp && menuComp }\n    </div>\n  );\n};\n\nexport default NavMenu;","\n/**\n * Checks the size of window as well as the user Agent to see whether the website\n * is viewed on mobile device or desktop.\n * \n * @returns Boolean - true for device, false for desktop (Real mobile first, huh?)\n * @since 3.0\n */\nexport default function testDevice ():boolean {\n\n  if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test( navigator.userAgent ) ) {\n    return true;\n  }\n  else\n    return false;\n}","\n// modules\nimport MindCookies from './helpers/MindCookies';\nimport React from 'react';\n\nimport ReactDOM from 'react-dom';\n\nimport NavMenu from './nav/nav-menu';\n\n\n\n\n// type definitions\nimport './types/index';\n\n/**\n * Initialize Global settings for the Theme. \n * Maybe when extended in future good idea to move settings to separate file.\n */\nconst wmSettings = {\n  navBreakpoint: 760\n};\nwindow.MindGlobal.settings = wmSettings;\n\n/**\n * Cookie handler disabled at the moment. Will be used elsewhere probably as a part of a module.\n * Starts Cookies handler to store data about intros and such\n * Currently only intro played is stored in cookies\n */ \nwindow.MindGlobal.MindCookiesHandler = new MindCookies( './' );\n\n\n/**\n * Allows use of ScrollTrigger on gsap for all components (Currently not used at all )\n */\nwindow.gsap.registerPlugin( window.ScrollTrigger );\n\n\n/**\n * Loading different content for different types of navigation (Mobile / Desktop)\n */\n\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\n  const navCont = document.querySelector( '#wmnav-cont' );\n\n  if( navCont ) {\n    ReactDOM.render( <NavMenu mindGlobal={window.MindGlobal} />, navCont );\n  }\n  else throw new DOMException( 'unable to find menu containers' );\n} );\n\n\n\n\n","/*jshint esversion: 6 */\n\ninterface MindCookiesArr {\n  [key: string]: string;\n}\n\n\nexport default class MindCookies {\n  path: string;\n  arr_cookies: MindCookiesArr;\n\n  constructor ( path:string ) {\n    this.path = path;\n    //this.createCookiesArray();\n  }\n\n  static setCookie ( cname:string, cvalue:string, extime:number ) {\n\n    const d = new Date();\n\n    d.setTime( d.getTime() + ( extime ) );\n\n    const expires = 'expires=' + d.toUTCString();\n\n    document.cookie = cname + '=' + cvalue + ';' + expires + ';path=/';\n    \n  }\n\n  /**\n   * Gets cookie based on string slug. If the cookie doesn't exist, returns null.\n   * \n   * @param cname String slug of the cookie to be checked\n   * @returns String | null Returns string value of the cookie or null if the cookie not exists\n   * @since 1.0\n   */\n  static getCookie ( cname:string ):string | null {\n\n    const name = cname + '=';\n    const decodedCookie = decodeURIComponent( document.cookie );\n\n\n    const ca = decodedCookie.split( ';' );\n\n    for ( let i = 0; i < ca.length; i++ ) {\n\n      let c = ca[i];\n\n      while ( c.charAt( 0 ) == ' ' ) {\n\n        c = c.substring( 1 );\n        console.log( c );\n\n      }\n\n      if ( c.indexOf( name ) == 0 ) {\n\n        return c.substring( name.length, c.length );\n\n      }\n    }\n    \n    return null;\n  }\n\n\n\n  /**\n   * Deletes cookie based on slug name\n   * \n   * @param name String - Slug name of the cookie to be deleted\n   * @returns void\n   * @since 1.0\n   */\n  static deleteCookie ( name:string ):void {\n    document.cookie = name + '=; Max-Age=-99999999;';\n  }\n\n  createCookiesArray () {\n\n    this.arr_cookies = {};\n\n    if ( document.cookie && document.cookie != '' ) {\n\n      const ca = document.cookie.split( ';' );\n\n      for ( let i = 0; i < ca.length; i++ ) {\n\n        let c = ca[i];\n        while ( c.charAt( 0 ) == ' ' ) {\n          c = c.substring( 1 );\n        }\n\n        const csa = c.split( '=' );\n\n        this.arr_cookies[csa[0]] = csa[1];\n      }\n      console.log( this.arr_cookies );\n    }\n  }\n}"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","React","ReactDOM","url","script","document","createElement","att","createAttribute","value","setAttributeNode","ret","Promise","resolve","reject","onload","onerror","src","head","appendChild","mindGlobal","deviceCheck","test","navigator","userAgent","window","innerWidth","settings","navBreakpoint","sizeSet","setDevice","device","useState","timer","setTimer","setTimeout","menuComp","setMenuComp","useEffect","console","log","onresize","clearTimeout","callScript","templateUrl","then","MindGlobal","MindCookiesHandler","constructor","path","this","static","cname","cvalue","extime","Date","setTime","getTime","expires","toUTCString","cookie","name","ca","decodeURIComponent","split","i","length","c","charAt","substring","indexOf","createCookiesArray","arr_cookies","csa","gsap","registerPlugin","ScrollTrigger","addEventListener","navCont","querySelector","DOMException"],"sourceRoot":""}